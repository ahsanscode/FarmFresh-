<%- include("partials/header.ejs") %>

<section class="page-header">
  <div class="container">
    <h1 class="page-title"><i class="fas fa-pen"></i> Edit Farm</h1>
    <p class="page-subtitle">Update your shop and banking details</p>
    <nav class="breadcrumb">
      <a href="/" class="breadcrumb-link">Home</a>
      <span class="breadcrumb-separator">/</span>
      <a href="/my-farm" class="breadcrumb-link">My Farm</a>
      <span class="breadcrumb-separator">/</span>
      <span class="breadcrumb-current">Edit Farm</span>
    </nav>
  </div>
</section>

<section class="seller-application" style="padding-top:20px;">
  <div class="container">
    <div class="application-container" style="align-items:flex-start;">
      <div class="application-form-card" style="width:60%;">
        <h2 class="auth-title">Farm Details</h2>
        <form class="auth-form seller-form" action="/edit-farm" method="post">
          <div class="form-group">
            <label for="farmName">Farm/Business Name *</label>
            <input type="text" id="farmName" name="farmName" value="<%= farm.farm_name || '' %>" required>
          </div>

          <div class="form-group">
            <label for="location">Location</label>
            <input type="text" id="location" name="location" value="<%= farm.location || '' %>">
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="district">District *</label>
              <input type="text" id="district" name="district" value="<%= farm.district || '' %>" required>
            </div>
            <div class="form-group">
              <label for="farmSize">Farm Size (acres)</label>
              <input type="number" id="farmSize" name="farmSize" min="0" step="0.1" value="<%= farm.farm_size || '' %>">
            </div>
          </div>

          <div class="form-group">
            <label for="address">Address</label>
            <textarea id="address" name="address" rows="3"><%= farm.address || '' %></textarea>
          </div>

          <div class="form-group">
            <label for="products">Products (comma separated)</label>
            <input type="text" id="products" name="products" value="<%= farm.products || '' %>" placeholder="e.g., Vegetables, Fruits, Dairy">
          </div>

          <div class="form-group">
            <label for="experience">Experience</label>
            <input type="text" id="experience" name="experience" value="<%= farm.experience || '' %>" placeholder="e.g., 3-5 years">
          </div>

          <h3 class="form-section-title" style="margin-top:16px;">Banking</h3>
          <div class="form-group">
            <label for="bankName">Bank Name</label>
            <input type="text" id="bankName" name="bankName" value="<%= farm.bank_name || '' %>">
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="accountNumber">Account Number</label>
              <input type="text" id="accountNumber" name="accountNumber" value="<%= farm.account_number || '' %>">
            </div>
            <div class="form-group">
              <label for="accountName">Account Holder Name</label>
              <input type="text" id="accountName" name="accountName" value="<%= farm.account_holder_name || '' %>">
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="mobileBanking">Mobile Banking Provider</label>
              <input type="text" id="mobileBanking" name="mobileBanking" value="<%= farm.mobile_banking_provider || '' %>" placeholder="e.g., bKash, Nagad">
            </div>
            <div class="form-group">
              <label for="mobileNumber">Mobile Banking Number</label>
              <input type="tel" id="mobileNumber" name="mobileNumber" value="<%= farm.mobile_banking_number || '' %>" placeholder="+880 1XXX-XXXXXX">
            </div>
          </div>

          <div class="actions" style="display:flex; gap:8px;">
            <button type="submit" class="btn btn-primary">Save Changes</button>
            <a href="/my-farm" class="btn btn-outline">Cancel</a>
          </div>
        </form>
      </div>

      <div class="application-info" style="width:38%;">
        <div class="info-card">
          <h3>Farm Picture</h3>
          <div style="border:1px dashed #cbd5e0; border-radius:8px; padding:12px; text-align:center; background:#f8fafc;">
            <div style="font-size:48px; color:#cbd5e0;">
              <i class="fas fa-image"></i>
            </div>
            <p style="margin:8px 0 4px;">Add or update a farm photo</p>
            <small style="color:#6b7280;">(Upload handling not implemented)</small>
            <div style="margin-top:10px;">
              <a href="#" class="btn btn-outline" aria-disabled="true">Upload (coming soon)</a>
            </div>
          </div>
        </div>

        <div class="info-card">
          <h3>Tips</h3>
          <ul class="tips-list">
            <li>Keep your address and banking details current</li>
            <li>List your main products for quicker approval</li>
            <li>Use a clear farm photo for trust</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</section>

<%- include("partials/footer.ejs") %>
